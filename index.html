<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BDG Game Clone</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Roboto', sans-serif; }
    body { background: #1b1b1b; color: white; padding: 10px; }
    .container { max-width: 500px; margin: auto; background: #2c2c2c; border-radius: 10px; overflow: hidden; }
    .header { display: flex; align-items: center; padding: 10px; background: #141414; }
    .header img { width: 30px; margin-right: 10px; }
    .wallet { background: #2a2a2a; padding: 10px; display: flex; justify-content: space-between; align-items: center; }
    .wallet span { font-size: 18px; }
    .wallet button { padding: 5px 10px; margin-left: 5px; border: none; border-radius: 5px; }
    .wallet .deposit { background: #1abc9c; color: white; }
    .wallet .withdraw { background: #e74c3c; color: white; }
    .timer { text-align: center; font-size: 24px; padding: 10px; background: #1b1b1b; }
    .bet-options, .number-options, .history-buttons { display: flex; justify-content: space-around; margin: 10px 0; }
    .bet-options button, .number-options button, .history-buttons button { border: none; padding: 10px 15px; border-radius: 5px; font-weight: bold; cursor: pointer; }
    .green { background: #00e676; color: black; }
    .red { background: #f44336; color: white; }
    .violet { background: #9c27b0; color: white; }
    .number-options button { width: 35px; height: 35px; border-radius: 50%; font-weight: bold; }
    .number-green { background: #00e676; color: black; }
    .number-red { background: #f44336; color: white; }
    .number-violet { background: #9c27b0; color: white; }
    .number-white { background: white; color: black; }
    .history-buttons button { background: #444; color: white; flex: 1; margin: 0 2px; padding: 10px; }
    .table { width: 100%; margin-top: 10px; border-collapse: collapse; background: #2d2d2d; font-size: 14px; }
    .table th, .table td { border: 1px solid #444; padding: 8px; text-align: center; }
    .table th { background: #3c3c3c; }
    .result-bar { padding: 10px; background: #222; margin-top: 10px; }
    .popup { display: none; position: fixed; bottom: 0; left: 0; right: 0; background: #1b1b1b; border-top-left-radius: 20px; border-top-right-radius: 20px; padding: 20px; z-index: 999; }
    .popup h3 { margin-bottom: 10px; }
    .popup .amount-buttons button { margin: 5px; padding: 8px 15px; background: #444; color: white; border: none; border-radius: 5px; }
    .popup .confirm { margin-top: 10px; background: #1abc9c; border: none; padding: 10px; width: 100%; border-radius: 5px; color: white; font-weight: bold; }
    .popup .cancel { background: #e74c3c; margin-top: 5px; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <img src="logo.png" alt="logo" />
      <h2>BDG Game</h2>
    </div>

    <div class="wallet">
      <span>Wallet: ₹7500</span>
      <div>
        <button class="deposit">Deposit</button>
        <button class="withdraw">Withdraw</button>
      </div>
    </div>

    <div class="timer">Time Left: <span id="timer">30</span>s</div>

    <div class="bet-options">
      <button class="green" onclick="openBetPopup('Green')">Green</button>
      <button class="violet" onclick="openBetPopup('Violet')">Violet</button>
      <button class="red" onclick="openBetPopup('Red')">Red</button>
    </div>

    <div class="number-options">
      <button class="number-green" onclick="openBetPopup('0')">0</button>
      <button class="number-red" onclick="openBetPopup('1')">1</button>
      <button class="number-red" onclick="openBetPopup('2')">2</button>
      <button class="number-green" onclick="openBetPopup('3')">3</button>
      <button class="number-green" onclick="openBetPopup('4')">4</button>
      <button class="number-violet" onclick="openBetPopup('5')">5</button>
      <button class="number-red" onclick="openBetPopup('6')">6</button>
      <button class="number-green" onclick="openBetPopup('7')">7</button>
      <button class="number-red" onclick="openBetPopup('8')">8</button>
      <button class="number-red" onclick="openBetPopup('9')">9</button>
    </div>

    <div class="history-buttons">
      <button onclick="showGameHistory()">Game History</button>
      <button onclick="showMyHistory()">My History</button>
    </div>

    <div class="result-bar">Recent Results: <span id="recent-results">5, 3, 8, 1, 0</span></div>

    <table class="table" id="history-table">
      <thead>
        <tr><th>Period</th><th>Number</th><th>Big/Small</th><th>Color</th></tr>
      </thead>
      <tbody>
        <tr><td>Loading...</td></tr>
      </tbody>
    </table>
  </div>

  <div class="popup" id="betPopup">
    <h3 id="betTitle">Select Bet</h3>
    <div>
      Quantity:
      <div class="amount-buttons">
        <button onclick="setAmount(1)">1</button>
        <button onclick="setAmount(10)">10</button>
        <button onclick="setAmount(100)">100</button>
        <button onclick="setAmount(1000)">1000</button>
      </div>
    </div>
    <div>
      Multiplier:
      <div class="amount-buttons">
        <button onclick="setMultiplier(1)">x1</button>
        <button onclick="setMultiplier(5)">x5</button>
        <button onclick="setMultiplier(10)">x10</button>
        <button onclick="setMultiplier(50)">x50</button>
        <button onclick="setMultiplier(100)">x100</button>
      </div>
    </div>
    <button class="confirm" onclick="placeBet()">Confirm Bet</button>
    <button class="confirm cancel" onclick="closePopup()">Cancel</button>
  </div>

  <script>
    let selectedBet = null;
    let selectedAmount = 1;
    let selectedMultiplier = 1;

    function openBetPopup(bet) {
      selectedBet = bet;
      document.getElementById('betTitle').textContent = `Select ${bet}`;
      document.getElementById('betPopup').style.display = 'block';
    }

    function closePopup() {
      document.getElementById('betPopup').style.display = 'none';
    }

    function setAmount(amount) {
      selectedAmount = amount;
    }

    function setMultiplier(mult) {
      selectedMultiplier = mult;
    }

    function placeBet() {
      alert(`Bet placed on ${selectedBet} with amount ₹${selectedAmount * selectedMultiplier}`);
      closePopup();
    }

    let timer = 30;
    setInterval(() => {
      timer--;
      if (timer <= 0) timer = 30;
      document.getElementById('timer').textContent = timer;
    }, 1000);

    function showGameHistory() {
      // Fetch game history here
      alert('Show Game History (connect to /api/rounds)');
    }

    function showMyHistory() {
      // Fetch my history here
      alert('Show My History (connect to /api/bets/user/user@example.com)');
    }
  </script>
</body>
</html>
