<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>WinGo Game</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #101010;
      color: white;
    }

    .header {
      text-align: center;
      padding: 10px 0;
      background: #111;
    }

    .header img {
      width: 150px;
    }

    .wallet-section {
      display: flex;
      justify-content: space-between;
      padding: 10px 20px;
      background: #1e1e1e;
      font-size: 16px;
    }

    .wallet-section button {
      background: #444;
      border: none;
      color: white;
      padding: 5px 15px;
      border-radius: 5px;
      cursor: pointer;
    }

    .color-tabs {
      display: flex;
      justify-content: center;
      margin: 15px 0;
    }

    .color-btn {
      margin: 0 10px;
      padding: 10px 25px;
      border-radius: 25px;
      font-size: 16px;
      border: none;
      cursor: pointer;
      color: white;
    }

    .red { background: #ff4b4b; }
    .green { background: #3cba54; }
    .violet { background: #9b59b6; }

    .number-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 15px;
      padding: 15px;
    }

    .number-circle {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      text-align: center;
      line-height: 60px;
      font-size: 20px;
      cursor: pointer;
      margin: auto;
    }

    .number-red { background: #ff4b4b; }
    .number-green { background: #3cba54; }
    .number-violet { background: #9b59b6; }

    .tabs {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }

    .tab-btn {
      background: #222;
      border: none;
      color: white;
      padding: 8px 20px;
      margin: 0 5px;
      cursor: pointer;
      border-radius: 10px;
    }

    /* Popup */
    .popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #181818;
      border-radius: 15px;
      padding: 25px;
      width: 300px;
      display: none;
      flex-direction: column;
      z-index: 999;
    }

    .popup h3 {
      margin: 0 0 10px;
      font-size: 18px;
    }

    .amount-options {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 10px 0;
    }

    .amount-options button {
      padding: 5px 10px;
      border-radius: 8px;
      background: #555;
      border: none;
      color: white;
      cursor: pointer;
    }

    .popup .total {
      margin-top: 15px;
      font-size: 16px;
    }

    .popup button.place-btn {
      margin-top: 15px;
      background: #2ecc71;
      padding: 10px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: bold;
    }

    .overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      display: none;
      z-index: 998;
    }
  </style>
</head>
<body>

<div class="header">
  <img src="logo.png" alt="WinGo Logo" />
</div>

<div class="wallet-section">
  <div>Wallet: ₹<span id="walletBalance">1000</span></div>
  <div>
    <button>Deposit</button>
    <button>Withdraw</button>
  </div>
</div>

<div class="color-tabs">
  <button class="color-btn red" onclick="openPopup('Red')">Red</button>
  <button class="color-btn violet" onclick="openPopup('Violet')">Violet</button>
  <button class="color-btn green" onclick="openPopup('Green')">Green</button>
</div>

<div class="number-grid">
  <div class="number-circle number-green" onclick="openPopup('0')">0</div>
  <div class="number-circle number-red" onclick="openPopup('1')">1</div>
  <div class="number-circle number-green" onclick="openPopup('2')">2</div>
  <div class="number-circle number-red" onclick="openPopup('3')">3</div>
  <div class="number-circle number-green" onclick="openPopup('4')">4</div>
  <div class="number-circle number-red" onclick="openPopup('5')">5</div>
  <div class="number-circle number-green" onclick="openPopup('6')">6</div>
  <div class="number-circle number-red" onclick="openPopup('7')">7</div>
  <div class="number-circle number-green" onclick="openPopup('8')">8</div>
  <div class="number-circle number-red" onclick="openPopup('9')">9</div>
</div>

<div class="tabs">
  <button class="tab-btn">Game History</button>
  <button class="tab-btn">My History</button>
</div>

<div class="overlay" id="overlay" onclick="closePopup()"></div>

<div class="popup" id="betPopup">
  <h3>Place Bet on <span id="selectedBetType"></span></h3>
  <div class="amount-options">
    <button onclick="selectAmount(10)">₹10</button>
    <button onclick="selectAmount(50)">₹50</button>
    <button onclick="selectAmount(100)">₹100</button>
    <button onclick="selectAmount(500)">₹500</button>
    <button onclick="multiplyAmount(2)">×2</button>
    <button onclick="multiplyAmount(5)">×5</button>
    <button onclick="multiplyAmount(10)">×10</button>
    <button onclick="multiplyAmount(50)">×50</button>
  </div>
  <div class="total">Total: ₹<span id="totalAmount">0</span></div>
  <button class="place-btn" onclick="placeBet()">Place Bet</button>
</div>

<script>
  let currentBetType = '';
  let baseAmount = 0;

  function openPopup(betType) {
    currentBetType = betType;
    document.getElementById('selectedBetType').innerText = betType;
    document.getElementById('overlay').style.display = 'block';
    document.getElementById('betPopup').style.display = 'flex';
    baseAmount = 0;
    updateTotal();
  }

  function closePopup() {
    document.getElementById('overlay').style.display = 'none';
    document.getElementById('betPopup').style.display = 'none';
  }

  function selectAmount(amount) {
    baseAmount = amount;
    updateTotal();
  }

  function multiplyAmount(multiplier) {
    baseAmount *= multiplier;
    updateTotal();
  }

  function updateTotal() {
    document.getElementById('totalAmount').innerText = baseAmount;
  }

  function placeBet() {
    if (baseAmount <= 0) {
      alert('Please select a valid amount');
      return;
    }

    // ✅ Replace with your actual backend API call:
    console.log(`Placing bet: ${currentBetType} ₹${baseAmount}`);

    // Example placeholder for sending bet:
    fetch('https://your-backend-url.com/api/bets', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        username: 'testuser',
        roundId: '123456',
        colorBet: ['Red', 'Green', 'Violet'].includes(currentBetType) ? currentBetType : null,
        numberBet: isNaN(currentBetType) ? null : parseInt(currentBetType),
        amount: baseAmount
      })
    })
    .then(res => res.json())
    .then(data => {
      alert('Bet placed!');
      closePopup();
    })
    .catch(err => {
      console.error('Error:', err);
      alert('Failed to place bet');
    });
  }
</script>

</body>
</html>
